<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sheet URL</title>
    <link href="{{ url_for('style', path='styles.css') }}" rel="stylesheet">
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
<form name="Sheet_Form" class="form-style-9" action="/sheet_url_submission" method="POST" onsubmit="target_popup(this)">
<ul>
<li>
    <input type="url" name="sheet_url" class="field-style field-full align-none" placeholder="sheet_url" />
</li>

<li>
<input type="submit" value="Send" />
</li>
    <li>
         <a href="/airtable_form"> Go to Airtable Form---> </a>
</li>
      <li>
    <a href="/sheet_form"> Go to Sheet Form---> </a>
      </li>
</ul>
</form>

<h2  style="text-align:left; padding-left: 400px">
    Managing data resulting from Phantom Buster tasks
</h2>
<p style="text-align:left; padding-left: 400px">
    This is a brief tutorial to get the information resulting from Phantom Buster tasks. You will be able <br>
to manage the information in Airtable and update new entries while the PB task is still running. <br>
To use this solution, you have to have one Phantom Buster task running with at least one result in the CSV.
    <span>

    </span>
</p>
<br>
<h2  style="text-align:left; padding-left: 400px" >
    How to use the above form
</h2>
<p style="text-align:left; padding-left: 400px">
    Please, fill in all the parameters:
    <br>
    <b> - phantom_csv:</b>it’s the CSV link from the Phantom Buster task. You can go to Phantom Buster and right-click
    <br>to copy the download link of the results CSV.
    <br>
    <br>
    <b> - airtable_api_key: </b> API Key generated in your Airtable account. This will allow us to access the base to upload
    <br> the data.to get the API key.
      <br>
    <br>
    <b> - airtable_base_url: </b> It’s the URL of the base in which we will upload the data. Just go to your browser, copy the link
    <br> and paste it into this field.
    <br>
    <br>
     <b> - airtable_table_name: </b>it’s how you named the table.
    <br>
    <br>
    After filling in all the information, click <b>Send</b>. If the response is <b>“Task scheduled successfully” </b>, it’s all done!
</p>
</body>

<script>

function target_popup(form) {
   let sheet_url = document.forms["Sheet_Form"]["sheet_url"].value
    if (sheet_url == null || sheet_url == "") {
        window.open('', Swal.fire({
            icon: 'error',
            title: 'Oops...',
            text: 'Please! check your entries and make sure you fill all fields correctly'
        }), 'width=400,height=400,resizeable,scrollbars');
        form.target = Swal.fire({
            icon: 'error',
            title: 'Oops...',
            text: 'Please! check your entries and make sure you fill all fields correctly'
        });
    }
}
</script>

</html>